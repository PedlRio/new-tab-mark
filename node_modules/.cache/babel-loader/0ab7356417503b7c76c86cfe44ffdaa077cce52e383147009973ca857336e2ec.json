{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      notas: this.recuperarNotasSalvas() || [],\n      // Recupera notas salvas\n      ultimaNotaSelecionada: null\n    };\n  },\n  methods: {\n    criarNota(content) {\n      let novoConteudo;\n      let h1Content;\n      if (content instanceof PointerEvent) {\n        // Se content é um objeto PointerEvent\n        h1Content = `Nota ${this.notas.length + 1}`;\n        novoConteudo = `<h1>Nota ${h1Content}</h1><p>Conteúdo da nova nota</p>`;\n      } else {\n        novoConteudo = content;\n        const match = content.match(/<h1[^>]*>([^<]+)<\\/h1>/i);\n        h1Content = match ? match[1] : null;\n      }\n      const novaNota = {\n        id: Date.now(),\n        title: h1Content,\n        content: novoConteudo\n      };\n      this.notas.push(novaNota);\n      this.salvarNotas(this.notas, novaNota);\n      this.$emit('notaCriada', novaNota);\n      this.ultimaNotaSelecionada = novaNota;\n      localStorage.setItem('lastEditNote', novaNota.id);\n    },\n    excluirNota(index) {\n      if (this.notas.length === 1) {\n        this.$emit('notaSelecionada', []);\n        this.notas.splice(index, 1);\n      } else if (this.notas.length - 1 === index) {\n        const nota = this.notas[this.notas.length - 2];\n        if (nota) {\n          this.$emit('notaSelecionada', nota);\n          this.notas.splice(index, 1); // Remove a nota pelo índice\n          // Faça algo com a nota encontrada\n        }\n      } else {\n        this.notas.splice(index, 1); // Remove a nota pelo índice\n      }\n\n      this.salvarNotas(this.notas); // Salva as notas após a exclusão\n    },\n\n    salvarNotas(notas) {\n      localStorage.setItem('notas', JSON.stringify(notas)); // Salva as notas no localStorage\n    },\n\n    recuperarNotasSalvas() {\n      const notasSalvas = localStorage.getItem('notas'); // Recupera as notas do localStorage\n      return notasSalvas ? JSON.parse(notasSalvas) : null; // Retorna as notas recuperadas (ou null se não houver notas)\n    },\n\n    selecionarNota(nota) {\n      this.$emit('notaSelecionada', nota); // Emitir evento 'notaSelecionada'\n      this.ultimaNotaSelecionada = nota;\n      localStorage.setItem('lastEditNote', this.ultimaNotaSelecionada.id);\n    },\n    downloadNota() {\n      this.$emit('baixaNota');\n    },\n    importaNota() {\n      this.$emit('importaNota');\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}