{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  data() {\n    return {\n      notas: this.recuperarNotasSalvas() || [],\n      // Recupera notas salvas\n      ultimaNotaSelecionada: null\n    };\n  },\n  methods: {\n    criarNota() {\n      const novaNota = {\n        id: Date.now(),\n        // Gera um ID único usando timestamp\n        title: `Nota ${this.notas.length + 1}`,\n        content: `<h1>Nota ${this.notas.length + 1}</h1><p>Conteúdo da nova nota</p>`\n      };\n      this.notas.push(novaNota);\n      this.salvarNotas(this.notas, novaNota);\n      this.$emit('notaCriada', novaNota);\n      this.ultimaNotaSelecionada = novaNota;\n      localStorage.setItem('lastEditNote', novaNota.id);\n    },\n    excluirNota(index) {\n      if (this.notas.length === 1) {\n        this.$emit('notaSelecionada', []);\n        this.notas.splice(index, 1);\n      } else if (this.notas.length - 1 === index) {\n        const nota = this.notas[this.notas.length - 2];\n        if (nota) {\n          this.$emit('notaSelecionada', nota);\n          this.notas.splice(index, 1); // Remove a nota pelo índice\n          // Faça algo com a nota encontrada\n        }\n      } else {\n        this.notas.splice(index, 1); // Remove a nota pelo índice\n      }\n\n      this.salvarNotas(this.notas); // Salva as notas após a exclusão\n    },\n\n    salvarNotas(notas) {\n      localStorage.setItem('notas', JSON.stringify(notas)); // Salva as notas no localStorage\n    },\n\n    recuperarNotasSalvas() {\n      const notasSalvas = localStorage.getItem('notas'); // Recupera as notas do localStorage\n      return notasSalvas ? JSON.parse(notasSalvas) : null; // Retorna as notas recuperadas (ou null se não houver notas)\n    },\n\n    selecionarNota(nota) {\n      this.$emit('notaSelecionada', nota); // Emitir evento 'notaSelecionada'\n      this.ultimaNotaSelecionada = nota;\n      localStorage.setItem('lastEditNote', this.ultimaNotaSelecionada.id);\n    },\n    downloadNota(nota) {\n      const textoParaDownload = nota.content; // Substitua isso pelo conteúdo da nota que deseja baixar\n      const nomeDoArquivo = `${nota.title}.txt`; // Nome do arquivo com extensão .txt\n\n      const element = document.createElement('a');\n      const file = new Blob([textoParaDownload], {\n        type: 'text/plain'\n      });\n      element.href = URL.createObjectURL(file);\n      element.download = nomeDoArquivo;\n      document.body.appendChild(element);\n      element.click();\n      document.body.removeChild(element);\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}